"use strict";var _slicedToArray=function(){function r(r,n){var t=[],e=!0,i=!1,o=void 0;try{for(var u,f=r[Symbol.iterator]();!(e=(u=f.next()).done)&&(t.push(u.value),!n||t.length!==n);e=!0);}catch(a){i=!0,o=a}finally{try{!e&&f["return"]&&f["return"]()}finally{if(i)throw o}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return r(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){var r=function(r,n){function t(r){var t=0,e=!0,i=!1,o=n;try{for(var u,f=r[Symbol.iterator]();!(e=(u=f.next()).done);e=!0){var a=_slicedToArray(u.value,2),c=a[0],v=a[1];t+=I(c,v)}}catch(s){i=!0,o=s}finally{try{!e&&f["return"]&&f["return"]()}finally{if(i)throw o}}return Math.abs(t)/2}r.shoelace=t;var e=function(r){var n=function(n,t,e,i,o){var u,f,a;for(a=e;i>=a+n;a+=n)f=[],r(t,a,a+n,f),u.push(f);i>a&&(f=[],r(t,a,i,f),u.push(f))};return n};r.__chan__=e;var i=function(r,n){var t=function(t,e){var i,o,u,f,a,c,v,s,l,h,_;v=t.length;r:for(o=0;v>o;++o){for(i=+(0===o),f=t[i],a=t[o],s=l=f,u=1;v>u;++u)if(u!==i&&u!==o)if(c=t[u],h=r(f,a,c),h>0)h=r(a,s,c),0>h&&(s=c);else if(0>h)h=r(a,l,c),h>0&&(l=c);else if(_=n(f,a,c),0>_){e[o]=!1;continue r}s!==f&&l!==f&&r(s,l,a)<=0&&(e[o]=!1)}};return t};r.__chn2__=i;var o=function(r,n){var t=function(t,e){var i,o,u,f,a,c,v,s;for(v=t.length,i=0;v>i;++i){f=t[i];r:for(o=0;v>o;++o)if(o!==i){for(a=t[o],u=0;v>u;++u)if(u!==i&&u!==o&&(c=t[u],s=r(f,a,c),0>s||0===s&&n(f,a,c)<0))continue r;e[o]=!0}}};return t};r.__chn3__=o;var u=function(r,n){var t=function(t,e){var i,o,u,f,a,c,v,s;for(s=t.length,i=0;s>i;++i)if(e[i])for(f=t[i],o=0;s>o;++o)if(o!==i&&e[o])for(a=t[o],u=0;s>u;++u)if(u!==i&&u!==o&&e[u]&&(c=t[u],!r(f,a,c)))for(v=0;s>v;++v)v!==i&&v!==o&&v!==u&&e[v]&&n(t[v],f,a,c)&&(e[v]=!1)};return t};r.__chn4__=u;var f=function(r,n,t,e,i){for(var o=e;t>n;){o=Math.floor((t-n)/2)+n;var u=0>o-1?r.length-1:o-1,f=(o+1)%r.length,a=geo.cos(r[e],i,r[o]),c=geo.cos(r[e],i,r[u]),v=geo.cos(r[e],i,r[f]);if(c>a){if(v>a)return o;if(a==v&&L(i,r[o])<L(i,r[f]))return o;n=o+1}else{if(a==c&&v>a&&L(i,r[o])<L(i,r[u]))return o;t=o}}return o},a=function(r,n){if(0==r.length)return void r.push(n);if(1==r.length)return void(n.x<r[0]||n.x==r[0]&&n.y<r[0].y?r.splice(0,0,n):r.push(n));if(2==r.length)return void(n.x<r[0]||n.x==r[0]&&n.y<r[0].y?r.splice(0,0,n):sin_sign(r[0],r[1],n)>0?r.splice(1,0,n):r.push(n));for(var t=1,e=r.length,i=Math.floor((e-t)/2)+t,o=sin_sign(r[0],r[1],n)<0?1:-1;e>t;){if(o*sin_sign(r[0],n,r[i])>0){if(o*sin_sign(r[0],n,r[(i+1)%r.length])<0){++i;break}t=i+1}else{if(o*sin_sign(r[0],n,r[i-1])>0)break;e=i}i=Math.floor((e-t)/2)+t}var u=f(r,0,i,0,n),a=f(r,i,r.length,0,n);0==a&&(a=[u,u=a][0]),sin_sign(r[u],r[a],n)>=0?r.splice(u+1,a-u-1,n):(r.splice(a+1,r.length-a-1,n),r.splice(0,u))},c=function(r,n,t){};r.ch_online_add=a,r.ch_online_rm=c;var v=function(r){var n=function(n,t,e,i){var o,u,f;for(i.push(n[t]),i.push(n[t+1]),o=0,u=t+2;e>u;++u){for(f=n[u];o>=0&&r(i[o],i[o+1],f)<=0;)i.pop(),--o;i.push(f),++o}};return n};r.__grahamscan__=v;var s=function(r){var n=function(n,t,e,i){var o,u,f,a,c,v;for(u=n.length,f=[],f.push(n[t]),f.push(n[t+1]),i.push(n[t]),i.push(n[t+1]),c=0,v=0,o=t+2;e>o;++o){for(a=n[o];c>=0&&r(f[c],f[c+1],a)>=0;)f.pop(),--c;for(f.push(a),++c;v>=0&&r(i[v],i[v+1],a)<=0;)i.pop(),--v;i.push(a),++v}for(t=c;t>0;--t)i.push(f[t])};return n};r.__grahamscanmono__=s;var l=function(r,n){var t=function(t,e){var i,o,u,f,a,c,v;for(i=t.length,c=u=t[0],o=1;;){for(f=t[o],++o;i>o;++o)a=t[o],v=r(u,f,a),(0>v||0===v&&n(u,f,a)<0)&&(f=a);if(f===c)break;e.push(f),u=f,o=0}};return t};r.__jarvismarch__=l;var h=function(r,n){var t=function e(t,i,o,u,f,a,c){var v,s,l,h,_,p,g,d,y,w;for(g=i-1,d=o-1,y=d,s=l=0,h=_=-1;d>=g;)w=t[g],v=r(u,f,w),0>v?((s>v||v===s&&n(w,t[h])<0)&&(h=g,s=v),++g):(v=r(f,a,w),0>v?(p=t[g],t[g]=t[d],t[d]=p,(l>v||v===l&&n(w,t[_])<0)&&(_=d,l=v),--d):(_===y&&(_=d),g!==d&&(p=t[y],t[y]=t[d],t[d]=p),p=t[g],t[g]=t[y],t[y]=p,--y,--d));-1!==h&&(p=t[h],t[h]=t[i],t[i]=p,e(t,i+1,g,u,p,f,c)),c.push(f),-1!==_&&(p=t[_],t[_]=t[g],t[g]=p,e(t,g+1,y,f,p,a,c))};return t};r.__quickhull__=h;var _=function(r){return function(n,t){var e;return e=r(n[0],t[0]),0!==e?e:r(n[1],t[1])}};r.bottomleft=_;var p=function(r){return function(n,t){var e;return e=r(t[0],n[0]),0!==e?e:r(n[1],t[1])}};r.bottomright=p;var g=function(r,n,t){return function(e,i,o,u){r(e(n,t,i[o]),i,o+1,u)}};r.__clocksort__=g;var d=function(r,n,t){return function(e,i){var o;return o=r(t,e,i),0!==o?o:n(t,e,i)}};r.__clockwise__=d;var y=function(r,n,t){return function(e,i){var o;return o=r(t,i,e),0!==o?o:n(t,e,i)}};r.__counterclockwise__=y;var w=function(r){return function(n,t){var e;return e=r(n[1],t[1]),0!==e?e:r(n[0],t[0])}};r.leftbottom=w;var m=function(r){return function(n,t){var e;return e=r(t[1],n[1]),0!==e?e:r(n[0],t[0])}};r.lefttop=m;var x=function(r){return function(n,t){var e;return e=r(n[1],t[1]),0!==e?e:r(t[0],n[0])}};r.rightbottom=x;var b=function(r){return function(n,t){var e;return e=r(t[1],n[1]),0!==e?e:r(t[0],n[0])}};r.righttop=b;var k=function(r){return function(n,t){var e;return e=r(n[0],t[0]),0!==e?e:r(t[1],n[1])}};r.topleft=k;var j=function(r){return function(n,t){var e;return e=r(t[0],n[0]),0!==e?e:r(t[1],n[1])}};r.topright=j;var E=function(){this.edge=null,this.iterator=null,this.data=null};E.prototype.edgecount=function(){var r,n;if(null===this.edge)return 0;for(r=this.edge.next,n=1;r!==this.edge;)++n,r=r.next;return n},r.DCELFace=E;var M=function(){this.origin=null,this.twin=null,this.next=null,this.face=null,this.iterator=null,this.data=null};M.prototype.prev=function(){var r;for(r=this.twin.next.twin;r.next!==this;)r=r.next.twin;return r},r.DCELHalfEdge=M;var A=function(r,n,t){this.vertices=r,this.edges=n,this.faces=t};A.prototype.isempty=function(){return 0===this.vertices.length&&0===this.edges.length&&0===this.faces.length},A.prototype.addvertex=function(r){r.iterator=this.vertices.unshift(r)},A.prototype.addedge=function(r){r.iterator=this.edges.unshift(r)},A.prototype.addface=function(r){r.iterator=this.faces.unshift(r)},A.prototype.removevertex=function(r){this.vertices.erase(r.iterator)},A.prototype.removeedge=function(r){this.edges.erase(r.iterator)},A.prototype.removeface=function(r){this.faces.erase(r.iterator)},r.DCELMesh=A;var C=function(){this.leaving=null,this.iterator=null,this.data=null};C.prototype.edgeto=function(r){var n;if(null===leaving)return null;if(this.leaving.twin.origin===r)return this.leaving;for(n=this.leaving.twin.next;n!==this.leaving;){if(n.twin.origin===r)return n;n=n.twin.next}return null},r.DCELVertex=C;var D=function(r,n,t){return K(r,n,t)/L(r,n)/L(n,t)};r.cosval=D;var L=function(r,n){return Math.sqrt(F(r,n))};r.dist=L;var q=function(r,n,t){return X(r,n,t)/L(r,n)/L(n,t)};r.sinval=q;var S=function(r,n){return function(t,e){return r(t[n],e[n])}};r.monotonic=S;var T=function(r,n,t,e,i,o,u,f,a){return r*i*a+n*o*u+t*e*f-u*i*t-f*o*r-a*e*n};r.det3=T;var F=function(r,n){var t;return t=V(r,n),O(t,t)};r.scalar2=F;var H=function(r,n){return[r[0]+n[0],r[1]+n[1]]};r.vadd2=H;var I=function(r,n){return r[0]*n[1]-r[1]*n[0]};r.vcross2=I;var O=function(r,n){return r[0]*n[0]+r[1]*n[1]};r.vdot2=O;var V=function(r,n){return[r[0]-n[0],r[1]-n[1]]};r.vsub2=V;var z=function(r){var n=function(n,t,e){return r(n,t,e)>0};return n};r.__ccw__=z;var B=function(r){var n=function(n,t,e){return r(n,t,e)>=0};return n};r.__ccwc__=B;var G=function(r){var n=function(n,t,e){return 0===r(n,t,e)};return n};r.__colinear__=G;var J=function(r){var n=function(n,t,e){var i,o,u,f,a;if(a=e-t,2>=a)return!0;if(f=t,i=n[f],++f,o=n[f],++f,u=n[f],++f,3===a)return r(i,o,u);for(;;){if(!r(i,o,u))return!1;if(f===e)return f=t,i=n[f],r(o,u,i)?(++f,o=n[f],r(u,i,o)):!1;if(i=n[f],++f,!r(o,u,i))return!1;if(f===e)return f=t,o=n[f],r(u,i,o)?(++f,u=n[f],r(i,o,u)):!1;if(o=n[f],++f,!r(u,i,o))return!1;if(f===e)return f=t,u=n[f],r(i,o,u)?(++f,i=n[f],r(o,u,i)):!1;u=n[f],++f}};return n};r.__convex__=J;var K=function(r,n,t){return(n[0]-r[0])*(n[0]-t[0])+(n[1]-r[1])*(n[1]-t[1])};r.cossign=K;var N=function(r){var n=function(n,t,e){return r(n,t,e)<0};return n};r.__cw__=N;var P=function(r){var n=function(n,t,e){return r(n,t,e)<=0};return n};r.__cwc__=P;var Q=function(r){var n=function(n,t,e,i){var o,u,f,a,c,v,s,l,h;return o=n[0],u=n[1],f=t[0],a=t[1],c=e[0],v=e[1],s=i[0],l=i[1],h=s*s+l*l,r(o-s,u-l,o*o+u*u-h,f-s,a-l,f*f+a*a-h,c-s,v-l,c*c+v*v-h)};return n};r.__icc__=Q;var R=function(r){var n=function(n,t,e,i,o){return r(t,e,n)&&r(e,i,n)&&r(i,o,n)&&r(o,t,n)};return n};r.__piq__=R;var U=function(r){var n=function(n,t,e,i){return r(t,e,n)&&r(e,i,n)&&r(i,t,n)};return n};r.__pit__=U;var W=function(r){var n=function(n,t,e,i,o){var u,f,a;for(a=0,u=n[e-1],f=n[t],++t;;){if(a+=r(i,o,u,f),++t,t===e)return a;if(u=n[t],a+=r(i,o,u,f),++t,t===e)return a;f=n[t]}};return n};r.__rc__=W;var X=function(r,n,t){return(n[0]-r[0])*(t[1]-r[1])-(n[1]-r[1])*(t[0]-r[0])};r.sinsign=X;var Y=function(r,t,e,i,o,u){for(var f=0,a=t,c=n;;){if(f>=a)return a;var v=e[f];if(c=(i[f]-Z(r,v,o))/Z(r,v,u),c>=0)break;++f}for(var s=f;;){if(++f,f>=a)return s;var v=e[f],l=(i[f]-Z(r,v,o))/Z(r,v,u);0>l||l>=c||(s=f,c=l)}};r.rayshoot=Y;var Z=function(r,n,t){for(var e=0,i=0;r>i;++i)e+=n[i]*t[i];return e};return r.vdot=Z,r};"object"==typeof exports?r(exports):"function"==typeof define&&define.amd?define("aureooms-js-cg",[],function(){return r({})}):"object"==typeof window&&"object"==typeof window.document?r(window.cg={}):console.error("unable to detect type of module to define for aureooms-js-cg")}();
//# sourceMappingURL=js/dist/cg.js.map